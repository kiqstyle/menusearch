/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package menusearch.json;

import java.io.IOException;
import org.junit.AfterClass;
import org.junit.BeforeClass;
import org.junit.Test;
import static org.junit.Assert.*;
import menusearch.domain.*;

/**
 *
 * @author mackellb
 */
public class JSONProcessorTest {
    
    public JSONProcessorTest() {
    }
    
    @BeforeClass
    public static void setUpClass() {
    }
    
    @AfterClass
    public static void tearDownClass() {
    }

    /**
     * Test of getRecipeAPI method, of class JSONProcessor.
     */
    @Test
    public void testGetRecipeAPI() throws Exception {
        String searchID = "Creamy-Pesto-Three-Cheese-Tortellini-with-Chicken-971498";
        String expResult = "{\"yield\":null,\"nutritionEstimates\":[],\"totalTime\":\"40 min\",\"images\":[{\"imageUrlsBySize\":{\"90\":\"http://lh4.ggpht.com/jeCPcGGpc68TM2_IewZ0oEbctbSEaRkffSaTHyedVlLiLD88XfPP6hvhyMTdxQqdAUzWEnCBd989wN--qOU1wg=s90-c\",\"360\":\"http://lh4.ggpht.com/jeCPcGGpc68TM2_IewZ0oEbctbSEaRkffSaTHyedVlLiLD88XfPP6hvhyMTdxQqdAUzWEnCBd989wN--qOU1wg=s360-c\"},\"hostedSmallUrl\":\"http://lh4.ggpht.com/GWJAoONrBrhgS4YsvU1V-_5DLIn8WNLqjssH-JeYABh0-On0oTjfsjxHWdwfb23ssB3Z5SSlipsmhVxfwu_eNA=s90\",\"hostedMediumUrl\":\"http://lh4.ggpht.com/GWJAoONrBrhgS4YsvU1V-_5DLIn8WNLqjssH-JeYABh0-On0oTjfsjxHWdwfb23ssB3Z5SSlipsmhVxfwu_eNA=s180\",\"hostedLargeUrl\":\"http://lh4.ggpht.com/GWJAoONrBrhgS4YsvU1V-_5DLIn8WNLqjssH-JeYABh0-On0oTjfsjxHWdwfb23ssB3Z5SSlipsmhVxfwu_eNA=s360\"}],\"name\":\"Creamy Pesto Three Cheese Tortellini with Chicken\",\"source\":{\"sourceRecipeUrl\":\"http://www.domestically-speaking.com/2013/12/creamy-pesto-three-cheese-tortellini-chicken.html\",\"sourceSiteUrl\":\"domestically-speaking.com\",\"sourceDisplayName\":\"Domestically Speaking\"},\"id\":\"Creamy-Pesto-Three-Cheese-Tortellini-with-Chicken-971498\",\"ingredientLines\":[\"1 bag Barilla® Three Cheese Tortellini\",\"2 tablespoons butter\",\"2 cups cooked chicken\",\"1 can cream of chicken soup\",\"1/2 cup pesto sauce\",\"1/2 cup milk\",\"1 clove minced garlic\"],\"attribution\":{\"html\":\"<a href='http://www.yummly.com/recipe/Creamy-Pesto-Three-Cheese-Tortellini-with-Chicken-971498'>Creamy Pesto Three Cheese Tortellini with Chicken recipe</a> information powered by <img alt='Yummly' src='http://static.yummly.com/api-logo.png'/>\",\"url\":\"http://www.yummly.com/recipe/Creamy-Pesto-Three-Cheese-Tortellini-with-Chicken-971498\",\"text\":\"Creamy Pesto Three Cheese Tortellini with Chicken recipes: information powered by Yummly\",\"logo\":\"http://static.yummly.com/api-logo.png\"},\"numberOfServings\":4,\"totalTimeInSeconds\":2400,\"attributes\":{\"course\":[\"Main Dishes\"]},\"flavors\":{},\"rating\":4}";
        String result = JSONProcessor.getRecipeAPI(searchID);
       
       assertEquals(expResult, result);
     
    }
    
    @Test
    public void testParseRecipe() throws IOException
    {
        String jsonString = "{\"yield\":\"6 Servings\",\"nutritionEstimates\":[{\"attribute\":\"FAT_KCAL\",\"description\":null,\"value\":45.00,\"unit\":{\"id\":\"fea252f8-9888-4365-b005-e2c63ed3a776\",\"name\":\"calorie\",\"abbreviation\":\"kcal\",\"plural\":\"calories\",\"pluralAbbreviation\":\"kcal\",\"decimal\":true}},{\"attribute\":\"FOLDFE\",\"description\":\"Folate, DFE\",\"value\":34.65,\"unit\":{\"id\":\"4d783ee4-aa07-4958-84bf-3f4b528049dc\",\"name\":\"mcg_DFE\",\"abbreviation\":\"mcg_DFE\",\"plural\":\"mcg_DFE\",\"pluralAbbreviation\":\"mcg_DFE\",\"decimal\":false}},{\"attribute\":\"FOLFD\",\"description\":\"Folate, food\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"CARTA\",\"description\":\"Carotene, alpha\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"MN\",\"description\":\"Manganese, Mn\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"TOCPHA\",\"description\":\"Vitamin E (alpha-tocopherol)\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"FAMS\",\"description\":\"Fatty acids, total monounsaturated\",\"value\":4.81,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"VITC\",\"description\":\"Vitamin C, total ascorbic acid\",\"value\":0.01,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"CARTB\",\"description\":\"Carotene, beta\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"FOL\",\"description\":\"Folate, total\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"GLUS\",\"description\":\"Glucose (dextrose)\",\"value\":0.31,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"CHOLE\",\"description\":\"Cholesterol\",\"value\":0.01,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"NIA\",\"description\":\"Niacin\",\"value\":0.01,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"TOCPHG\",\"description\":\"Tocopherol, gamma\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"FRUS\",\"description\":\"Fructose\",\"value\":0.31,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"VITK\",\"description\":\"Vitamin K (phylloquinone)\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"K\",\"description\":\"Potassium, K\",\"value\":0.62,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"VITA_IU\",\"description\":\"Vitamin A, IU\",\"value\":5374.59,\"unit\":{\"id\":\"ed46fe0c-44fe-4c1f-b3a8-880f92e30930\",\"name\":\"IU\",\"abbreviation\":\"IU\",\"plural\":\"IU\",\"pluralAbbreviation\":\"IU\",\"decimal\":true}},{\"attribute\":\"CHOLN\",\"description\":\"Choline, total\",\"value\":0.05,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"P\",\"description\":\"Phosphorus, P\",\"value\":0.14,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"PHYSTR\",\"description\":\"Phytosterols\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"ENERC_KJ\",\"description\":\"Energy\",\"value\":782.59,\"unit\":{\"id\":\"fea252f8-9888-4365-b005-e2c63ed3a776\",\"name\":\"calorie\",\"abbreviation\":\"kcal\",\"plural\":\"calories\",\"pluralAbbreviation\":\"kcal\",\"decimal\":true}},{\"attribute\":\"SUCS\",\"description\":\"Sucrose\",\"value\":1.22,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"SE\",\"description\":\"Selenium, Se\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"FIBTG\",\"description\":\"Fiber, total dietary\",\"value\":1.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"NA\",\"description\":\"Sodium, Na\",\"value\":0.84,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"LYCPN\",\"description\":\"Lycopene\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"ZN\",\"description\":\"Zinc, Zn\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"ENERC_KCAL\",\"description\":\"Energy\",\"value\":186.50,\"unit\":{\"id\":\"fea252f8-9888-4365-b005-e2c63ed3a776\",\"name\":\"calorie\",\"abbreviation\":\"kcal\",\"plural\":\"calories\",\"pluralAbbreviation\":\"kcal\",\"decimal\":true}},{\"attribute\":\"LUT+ZEA\",\"description\":\"Lutein + zeaxanthin\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"SUGAR\",\"description\":\"Sugars, total\",\"value\":11.15,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"ASH\",\"description\":\"Ash\",\"value\":5.50,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"WATER\",\"description\":\"Water\",\"value\":471.24,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"STARCH\",\"description\":\"Starch\",\"value\":0.31,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"VITA_RAE\",\"description\":\"Vitamin A, RAE\",\"value\":272.71,\"unit\":{\"id\":\"0fcf76b3-891a-403d-883f-58c8809ef151\",\"name\":\"mcg_RAE\",\"abbreviation\":\"mcg_RAE\",\"plural\":\"mcg_RAE\",\"pluralAbbreviation\":\"mcg_RAE\",\"decimal\":false}},{\"attribute\":\"FAT\",\"description\":\"Total lipid (fat)\",\"value\":4.83,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"MG\",\"description\":\"Magnesium, Mg\",\"value\":0.02,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"F18D1\",\"description\":\"18:1 undifferentiated\",\"value\":0.01,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"CHOCDF\",\"description\":\"Carbohydrate, by difference\",\"value\":22.45,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"PROCNT\",\"description\":\"Protein\",\"value\":14.80,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"FLD\",\"description\":\"Fluoride, F\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"CA\",\"description\":\"Calcium, Ca\",\"value\":0.03,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"RETOL\",\"description\":\"Retinol\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}},{\"attribute\":\"FE\",\"description\":\"Iron, Fe\",\"value\":0.00,\"unit\":{\"id\":\"12485d26-6e69-102c-9a8a-0030485841f8\",\"name\":\"gram\",\"abbreviation\":\"g\",\"plural\":\"grams\",\"pluralAbbreviation\":\"grams\",\"decimal\":true}}],\"totalTime\":\"40 min\",\"images\":[{\"imageUrlsBySize\":{\"90\":\"null=s90-c\",\"360\":\"null=s360-c\"}}],\"name\":\"Chicken Noodle Soup\",\"source\":{\"sourceRecipeUrl\":\"http://allrecipes.com/Recipe/Chicken-Noodle-Soup-3/Detail.aspx\",\"sourceSiteUrl\":\"http://www.allrecipes.com\",\"sourceDisplayName\":\"AllRecipes\"},\"id\":\"Chicken-Noodle-Soup-Allrecipes\",\"ingredientLines\":[\"3 quarts homemade chicken stock, or canned low-sodium chicken broth\",\"3 carrots, cut into 1/8-inch-thick rounds\",\"Salt and freshly ground black pepper\",\"Salt and freshly ground black pepper\",\"8 ounces medium egg noodles\",\"Cooked chicken meat, shredded\",\"1/4 cup chopped fresh dill\",\"1/4 cup fresh flat-leaf parsley\"],\"attribution\":{\"html\":\"<a href='http://www.yummly.com/recipe/Chicken-Noodle-Soup-Allrecipes'>Chicken Noodle Soup recipe</a> information powered by <img alt='Yummly' src='http://static.yummly.com/api-logo.png'/>\",\"url\":\"http://www.yummly.com/recipe/Chicken-Noodle-Soup-Allrecipes\",\"text\":\"Chicken Noodle Soup recipes: information powered by Yummly\",\"logo\":\"http://static.yummly.com/api-logo.png\"},\"numberOfServings\":6,\"totalTimeInSeconds\":2400,\"attributes\":{\"course\":[\"Soups\",\"Lunch and Snacks\"]},\"flavors\":{\"Sweet\":0.1667,\"Salty\":0.1667,\"Bitter\":0.1667,\"Sour\":0.3333,\"Meaty\":0.0000,\"Piquant\":0.0000},\"rating\":3} ";
        
        Recipe myRecipe = JSONProcessor.parseRecipe(jsonString);
        
        assertEquals ("Chicken Noodle Soup", myRecipe.getName());
        assertEquals("6 Servings", myRecipe.getYield());
        
        
    
    }

    /**
     * Test of buildQuery method, of class JSONProcessor.
     */
    @Test
    public void testBuildQuery() throws Exception {
        Parameters p = new Parameters();
        p.addAllowedCourses("dinner");
        p.setSearchPhrase("tacos");
        String expResult = "{\"attribution\":{\"html\":\"Recipe search powered by <a href='http://www.yummly.com/recipes'><img alt='Yummly' src='http://static.yummly.com/api-logo.png'/></a>\",\"url\":\"http://www.yummly.com/recipes/\",\"text\":\"Recipe search powered by Yummly\",\"logo\":\"http://static.yummly.com/api-logo.png\"},\"totalMatchCount\":8983,\"facetCounts\":{},\"matches\":[{\"imageUrlsBySize\":{\"90\":\"http://lh3.googleusercontent.com/3RpqMeMLskCG-kMtN4gD856FDrzr4x0oBAZbL-9kvuARicyzvC1V2Ep1AvMraymRHeinpPUXwfZ7k2OGkMEq=s90-c\"},\"sourceDisplayName\":\"Onion Rings and Things\",\"ingredients\":[\"lime\",\"brown sugar\",\"garlic powder\",\"salt\",\"ground cumin\",\"ground red pepper\",\"tilapia fillets\",\"corn tortillas\",\"cabbage\",\"pico de gallo\",\"salsa\",\"crema mexicana\",\"oil\",\"tomatoes\",\"onions\",\"cilantro stems\",\"garlic\",\"jalapeno chilies\",\"lime juice\",\"pepper\"],\"id\":\"Fish-Tacos-1056033\",\"smallImageUrls\":[\"http://lh3.googleusercontent.com/dY3860m6Sf9ylfj-CG3Mr9dNaPBU7dpkv3KNquqBdzaV3EvvtiaiEgaVR7PEt_-cxfSLrmBa9-UaotNYEpfL_A=s90\"],\"recipeName\":\"Fish Tacos\",\"totalTimeInSeconds\":2400,\"attributes\":{\"course\":[\"Main Dishes\"],\"cuisine\":[\"Mexican\"]},\"flavors\":{\"salty\":0.3333333333333333,\"sour\":0.6666666666666666,\"sweet\":0.16666666666666666,\"bitter\":0.16666666666666666,\"meaty\":0.16666666666666666,\"piquant\":0.6666666666666666},\"rating\":4},{\"imageUrlsBySize\":{\"90\":\"http://lh3.googleusercontent.com/vPcLyySys_rxKD5ooj7BQbdkNLWDIV4AFNPGY2duJVGDXhnVlhi_4N6RRTFcGpL_dUFVUPQt4KejguI91elm=s90-c\"},\"sourceDisplayName\":\"A Family Feast\",\"ingredients\":[\"taco shells\",\"chicken\",\"shredded cheddar cheese\",\"shredded Monterey Jack cheese\",\"shredded lettuce\",\"diced tomatoes\",\"pico de gallo\",\"guacamole\",\"taco sauce\"],\"id\":\"Pulled-Chicken-Tacos-1053995\",\"smallImageUrls\":[\"http://lh3.googleusercontent.com/3WX4w1NWf2Gi8u1UXZIIAYPYkVp85B7OubH1SHESkjK5hFmo5UuGkhV3SGk7Ni_OWMy0tHHnaeEEEm3Vy4DI8A=s90\"],\"recipeName\":\"Pulled Chicken Tacos\",\"totalTimeInSeconds\":1200,\"attributes\":{\"course\":[\"Main Dishes\"],\"cuisine\":[]},\"flavors\":null,\"rating\":4},{\"imageUrlsBySize\":{\"90\":\"http://lh3.googleusercontent.com/tQKqnZpM52-TfVfDGrPusafwX1LW9DFa_si16BgOrG1puAzWi5IqaIJfXSUplJHai-BGCDBA7EG5EJIP-pBcPw=s90-c\"},\"sourceDisplayName\":\"Fabulessly Frugal\",\"ingredients\":[\"tortilla chips\",\"pork sausages\",\"green chile\",\"taco seasoning\",\"roma tomatoes\",\"green onions\",\"shredded cheese\"],\"id\":\"Grilled-Taco-Nachos-1054630\",\"smallImageUrls\":[\"http://lh3.googleusercontent.com/bpRCpPsdc5WI9gXT0msgx3TjVeiXknnst-F2MjkQS8gJ-K-9kB_1vYTG3mTJdyf5NpjKH1F2JVs9aYJmXnOnSrg=s90\"],\"recipeName\":\"Grilled Taco Nachos\",\"totalTimeInSeconds\":960,\"attributes\":{\"course\":[\"Appetizers\"],\"cuisine\":[\"Barbecue\"]},\"flavors\":{\"salty\":0.8333333333333334,\"sour\":0.8333333333333334,\"sweet\":0.16666666666666666,\"bitter\":0.8333333333333334,\"meaty\":0.8333333333333334,\"piquant\":0.8333333333333334},\"rating\":4},{\"imageUrlsBySize\":{\"90\":\"http://lh3.googleusercontent.com/fF-Dwn1OuIkHwgz7sO9df5_Qn1urGgJrqYbHzE09xlW9asbrOFCJ8o3tTGgmFvSuXCu6CfX1T797tvmjGVfWld8=s90-c\"},\"sourceDisplayName\":\"ourlifetastesgood.blogspot.com\",\"ingredients\":[\"sweet onion\",\"taco seasoning\",\"ground chuck\",\"avocado\",\"tomatoes\",\"dinner rolls\",\"queso blanco\"],\"id\":\"Taco-Sliders-1060281\",\"smallImageUrls\":[\"http://lh3.googleusercontent.com/Tneu7d9UDjRpIyv4H2_YSuNTZ4LbJIAYtKIPtJdbQWnjLtTp1NbSdol41S-vrD69I3LUNR-kDRDzTyCYEV5UUaI=s90\"],\"recipeName\":\"Taco Sliders\",\"totalTimeInSeconds\":780,\"attributes\":{\"course\":[]},\"flavors\":{\"piquant\":0.16666666666666666,\"bitter\":0.5,\"sour\":0.16666666666666666,\"meaty\":0.6666666666666666,\"salty\":0.3333333333333333,\"sweet\":0.16666666666666666},\"rating\":3},{\"imageUrlsBySize\":{\"90\":\"http://lh3.googleusercontent.com/duywY8sYR2SFCULgs2MM-QsPZcH9YjVbnrqQmLVPYhsMKcDQohL23reoGm158N2oz5e0C7ab56U5zQgukKjYQ2c=s90-c\"},\"sourceDisplayName\":\"Simple Vegan Blog\",\"ingredients\":[\"beans\",\"tomato purée\",\"Tabasco Pepper Sauce\",\"ground cumin\",\"avocado\",\"cherry tomatoes\",\"corn kernels\",\"taco shells\"],\"id\":\"15-Minute-Simple-Vegan-Tacos-1064542\",\"smallImageUrls\":[\"http://lh3.googleusercontent.com/6Iwm5suZ4mIXoz86hi8rDUHvwGE6pP3JDQ4crDxDkdw7bX24bvx54VSpZrTKA6nBuhgHBcBgbFODEyaa_YcN-A=s90\"],\"recipeName\":\"15-Minute Simple Vegan Tacos\",\"totalTimeInSeconds\":900,\"attributes\":{\"course\":[]},\"flavors\":{\"salty\":0.5,\"sour\":0.6666666666666666,\"sweet\":0.16666666666666666,\"bitter\":0.6666666666666666,\"meaty\":0.16666666666666666,\"piquant\":0.3333333333333333},\"rating\":4},{\"imageUrlsBySize\":{\"90\":\"http://lh3.googleusercontent.com/7YaObh8oQoSK99xszTSl9u4rvEXBEKOWqW1bGt3ZtZfWXzdNCJBQTAuonNfqsMLK2M7ylYf7UzKe94XSgNuEzw=s90-c\"},\"sourceDisplayName\":\"Normal Cooking\",\"ingredients\":[\"crescent rolls\",\"cream cheese\",\"shredded cheese\",\"cooked chicken\",\"taco sauce\",\"taco seasoning mix\"],\"id\":\"Taco-Puffs-1053421\",\"smallImageUrls\":[\"http://lh3.googleusercontent.com/10YP-IuCPjkLfn5OcR7fSQ-FgO4ve_j0FL0zZ613fNZM79wQBGe6dNlB5JsEzsk5r2peqPJTOWzghN4mD24Huw=s90\"],\"recipeName\":\"Taco Puffs\",\"totalTimeInSeconds\":2100,\"attributes\":{\"course\":[],\"cuisine\":[]},\"flavors\":null,\"rating\":4},{\"imageUrlsBySize\":{\"90\":\"http://lh3.googleusercontent.com/lCSpnP72yHWcE0L0PZPZtvbNTCiDvI7F57frPtUzdVu6raJVPqeicJjTxpZXgWYpBanNiZRH4HEUrR0kVxSfug=s90-c\"},\"sourceDisplayName\":\"Budget Bytes\",\"ingredients\":[\"corn tortillas\",\"filet\",\"chili powder\",\"salt\",\"vegetable oil\",\"frozen corn kernels\",\"coleslaw\",\"fresh cilantro\"],\"id\":\"Fish-Tacos-with-Cumin-Lime-Slaw-1063862\",\"smallImageUrls\":[\"http://lh3.googleusercontent.com/ZIdlD86fW5jqRUBoUavycysICXqm3eMSJslcMqf-uFadNUuYQsDvmQE3M6slbUsgXanW-T9dSHrMMHdSTjNLeM0=s90\"],\"recipeName\":\"Fish Tacos with Cumin Lime Slaw\",\"totalTimeInSeconds\":1800,\"attributes\":{\"course\":[\"Main Dishes\"],\"cuisine\":[]},\"flavors\":null,\"rating\":4},{\"imageUrlsBySize\":{\"90\":\"http://lh5.ggpht.com/AwjlkmeT1J6_Ud8IzRVelE_UveY2pWcLu-AQ6OX8B7tTMusZdGphow6jA9RPUN48ZggvxWBPQzBctMMadZSawho=s90-c\"},\"sourceDisplayName\":\"Martha Stewart\",\"ingredients\":[\"avocado\",\"lime\",\"coriander leaf\",\"coarse salt\",\"freshly ground pepper\",\"olive oil\",\"yellow onion\",\"ground sirloin\",\"dried oregano\",\"ground cumin\",\"corn tortillas\",\"cheddar cheese\",\"iceberg lettuce\",\"sour cream\",\"tomato salsa\"],\"id\":\"Tacos-Martha-Stewart\",\"smallImageUrls\":[\"http://lh6.ggpht.com/AWSD-N_SKQR84fXotXAq9xyr39rz8i0r68HtAYGbo8rZK3DGE3q-Z1v3kycEndFWM41TtGDnNTbYNNyIdTteuA=s90\"],\"recipeName\":\"Tacos\",\"totalTimeInSeconds\":3000,\"attributes\":{\"course\":[\"Main Dishes\",\"Lunch and Snacks\"],\"cuisine\":[\"Mexican\",\"American\"]},\"flavors\":{\"piquant\":0.0,\"meaty\":1.0,\"sour\":0.3333333333333333,\"bitter\":0.6666666666666666,\"salty\":0.8333333333333334,\"sweet\":0.3333333333333333},\"rating\":3},{\"imageUrlsBySize\":{\"90\":\"http://lh3.googleusercontent.com/-iCt5mXAx3pSJjiC9TL2GzIPqiHKR40iVagNha3XnUQQS9QGdjbcM1CX9vPhAoKnGozjhFl4K7vnsxFONk49=s90-c\"},\"sourceDisplayName\":\"Six Sisters' Stuff\",\"ingredients\":[\"red bell pepper\",\"lean ground beef\",\"cooked rice\",\"diced tomatoes\",\"low sodium taco seasoning\",\"shredded cheddar cheese\"],\"id\":\"Taco-Stuffed-Peppers-1059744\",\"smallImageUrls\":[\"http://lh3.googleusercontent.com/EIVPPSsQJ2IFopSK_iiJJ2dc4BOYL0uA_HjngQHHNJI0vxOEAW2wOn3vPd-iYeWG_K-_Hcka2flmXFMCqsQGRcw=s90\"],\"recipeName\":\"Taco Stuffed Peppers\",\"totalTimeInSeconds\":2700,\"attributes\":{\"course\":[\"Main Dishes\"],\"cuisine\":[]},\"flavors\":null,\"rating\":4},{\"imageUrlsBySize\":{\"90\":\"http://lh3.googleusercontent.com/rxsTeWYGLMP2U-cHjvNUc5_NPFvYh6-z43FjPOqIdWuW_LZeUTtLswnlHapOHxBrunrN-KEnLSMZY7rQ5GsVXg=s90-c\"},\"sourceDisplayName\":\"Bakers Royale\",\"ingredients\":[\"canola oil\",\"chicken\",\"chipotle\",\"corn tortillas\",\"condiments\",\"onions\",\"cilantro\",\"avocado\",\"lime\"],\"id\":\"Street-Tacos-1049185\",\"smallImageUrls\":[\"http://lh3.googleusercontent.com/Fw9aKPfMMA4XEd_WJQAZgiwtciW7O8aHKyMm9wybLBOx5qf1WPrCRWDpufM7CNpBk6HusUedFtq5yTqcBUH3w6U=s90\"],\"recipeName\":\"Street Tacos\",\"totalTimeInSeconds\":1800,\"attributes\":{\"course\":[\"Main Dishes\"]},\"flavors\":{\"salty\":0.16666666666666666,\"sour\":0.6666666666666666,\"sweet\":0.16666666666666666,\"bitter\":0.5,\"meaty\":0.6666666666666666,\"piquant\":0.6666666666666666},\"rating\":4}],\"criteria\":{\"excludedIngredients\":null,\"allowedIngredients\":null,\"terms\":null}}";
        String result = JSONProcessor.buildQuery(p);
      assertEquals(expResult, result);
      
    }

 
    
}
